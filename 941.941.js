(self.webpackChunk=self.webpackChunk||[]).push([[941],{941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Model:()=>I,Model$reflection:()=>O,Msg:()=>h,Msg$reflection:()=>m,init:()=>y,initMap:()=>b,mkProgram:()=>C,update:()=>S,view:()=>V});var r=n(541),o=n(597),p=n(243),s=n.n(p),i=(n(408),n(43)),c=n(248);function a(e,t){t?e.openPopup():e.closePopup()}s().Marker.prototype.options.icon=s().icon({iconUrl:i.Z,shadowUrl:c.Z});var u=n(513),l=n(65),d=n(229),f=n(728),w=n(68),g=n(20),k=n(380),M=n(657),P=n(163);class h extends r.EJ{constructor(e,...t){super(),this.tag=0|e,this.fields=t}cases(){return["TogglePopup","MarkerSelected"]}}function m(){return(0,o.er)("Leaflet.Msg",[],h,(()=>[[],[["name",o.Io]]]))}class I extends r.WV{constructor(e,t,n){super(),this.containerId=e,this.isPopupOpen=t,this.selectedMarker=n}}function O(){return(0,o.jn)("Leaflet.Model",[],I,(()=>[["containerId",o.Io],["isPopupOpen",o.QF],["selectedMarker",o.Io]]))}const b=function(e,t){const n=s().map(e.containerId).setView([51.505,-.09],13);s().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(n);const r=s().marker([51.5,-.09]).addTo(n).bindPopup("A pretty CSS3 popup.<br> Easily customizable.");return r.on("click",(()=>t.markerSelected("default"))),a(r,e.isPopupOpen),e=>a(r,e.isPopupOpen)};function y(){return new I("map-container",!0,"")}function S(e,t){if(1===e.tag){const n=e.fields[0];return new I(t.containerId,t.isPopupOpen,n)}return new I(t.containerId,!t.isPopupOpen,t.selectedMarker)}function V(e,t){return(0,u.oiW)(f.Vt,(0,l.zZ)((0,l.gw)((()=>(0,l.R3)((0,l.ri)((0,u.oiW)(f.Vt,[(0,d.iae)(f.aG,e.containerId),(0,w.Pts)(f.c4,400),(0,f.qF)(e,(0,g.M7)(2,(n=>{const r=[e,{togglePopup:()=>t(new h(0)),markerSelected:e=>t(new h(1,e))}];return b(r[0],r[1])})))])),(0,l.gw)((()=>(0,l.R3)((0,k.Ew)(e.selectedMarker)?(0,l.cS)():(0,l.ri)((0,u.U4x)(f.Vt,(0,k.lr)((0,k.sX)("Selected %P()",[e.selectedMarker])))),(0,l.gw)((()=>(0,l.ri)((0,u.JoY)(f.Vt,[(0,d.$ZC)(f.aG,"button"),(0,M.Yy)(f.Ev,(e=>{t(new h(0))})),(0,u.GH$)(f.Vt,(0,k.lr)((0,k.sX)("%P() popup",[e.isPopupOpen?"Close":"Open"])))]))))))))))))}function C(){return(0,P.z4)(y,((e,t)=>S(e,t)),((e,t)=>V(e,t)))}}}]);